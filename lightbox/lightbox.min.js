!function(){"use strict";function e(e){var t,a,l=e.getAttribute("href");return l.match(/\.(jpeg|jpg|gif|png)/)?(t=document.createElement("img"),t.className="lightbox-image",t.src=l,t.alt=e.getAttribute("data-image-alt"),t):l.match(/(youtube|vimeo)/)?(a=[],l.match("youtube")&&(a.id=l.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],a.url="www.youtube.com/embed/",a.options="?autoplay=1&rel=0"),l.match("vimeo")&&(a.id=l.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],a.url="player.vimeo.com/video/",a.options="?autoplay=1title=0&byline=0&portrait=0"),a.player=document.createElement("iframe"),a.player.setAttribute("allowfullscreen",""),a.player.className="lightbox-video-player",a.player.src="https://"+a.url+a.id+a.options,a.wrapper=document.createElement("div"),a.wrapper.className="lightbox-video-wrapper",a.wrapper.appendChild(a.player),a.wrapper):o.querySelector(l).children[0].cloneNode(!0)}function t(e){var t,a={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(t in a)null!==a[t]&&(a[t]=a[t].querySelector("[data-lightbox]"));return a}function a(a){if(a.blur(),c=a,a.classList.add("current-lightbox-item"),r=document.createElement("button"),r.className="lightbox-btn lightbox-btn-close",u=document.createElement("div"),u.className="lightbox-content",u.appendChild(e(a)),p=u.cloneNode(!1),p.className="lightbox-wrapper",p.style.animation=[n.scaleIn,n.fadeIn],p.appendChild(u),p.appendChild(r),d=u.cloneNode(!1),d.className="lightbox-container",d.style.animation=n.fadeIn,d.appendChild(p),"gallery"===a.getAttribute("data-lightbox")){d.classList.add("lightbox-gallery");var l;s={next:"",previous:""};for(l in s)s.hasOwnProperty(l)&&(s[l]=r.cloneNode(!1),s[l].className="lightbox-btn lightbox-btn-"+l,s[l].disabled=null===t(a)[l],p.appendChild(s[l]))}o.appendChild(d),o.style.overflow="hidden"}function l(a){p.removeAttribute("style");var l,i=t(c)[a];if(null!==i){u.style.animation=n.fadeOut,setTimeout(function(){u.replaceChild(e(i),u.children[0]),u.style.animation=n.fadeIn},200),c.classList.remove("current-lightbox-item"),i.classList.add("current-lightbox-item"),c=i;for(l in s)s.hasOwnProperty(l)&&(s[l].disabled=null===t(i)[l])}}function i(){d.style.animation=n.fadeOut,p.style.animation=[n.scaleOut,n.fadeOut],setTimeout(function(){o.contains(d)&&(o.removeAttribute("style"),o.removeChild(d),c.focus(),c.classList.remove("current-lightbox-item"))},200)}var n,o,r,s,c,d,u,p,m;m=(o=document.body).querySelectorAll("[data-lightbox]"),n={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"},Array.prototype.forEach.call(m,function(e){e.addEventListener("click",function(e){e.preventDefault(),a(this)})}),Array.prototype.forEach.call(["click","keyup"],function(e){o.addEventListener(e,function(e){if(o.contains(d)){var t=e.target,a=e.keyCode;-1===[d,r].indexOf(t)&&27!==a||i(),d.classList.contains("lightbox-gallery")&&(t!==s.next&&39!==a||l("next"),t!==s.previous&&37!==a||l("previous"))}})})}();