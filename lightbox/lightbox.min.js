!function(){"use strict";function e(){d.querySelector(".screen-cover")?(d.removeChild(m),d.removeAttribute("style")):((m=document.createElement("div")).className="screen-cover",m.style.animation="fadeIn 0.30s",d.style.overflow="hidden",d.appendChild(m))}function t(e){var t,r,o=e.getAttribute("href");return null!==o.match(/\.(jpeg|jpg|gif|png)$/)?(t=document.createElement("img"),t.src=o,null!==e.getAttribute("data-image-alt")&&(t.alt=e.getAttribute("data-image-alt")),t.outerHTML):o.match(/(youtube|vimeo)/)?(r=[],o.match("youtube")&&(r.id=o.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],r.url="https://www.youtube.com/embed/",r.options="?autoplay=1&rel=0"),o.match("vimeo")&&(r.id=o.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],r.url="https://player.vimeo.com/video/",r.options="?autoplay=1title=0&byline=0&portrait=0"),r.player=document.createElement("iframe"),r.player.setAttribute("allowfullscreen",""),r.player.className="lightbox-video-player",r.player.src=r.url+r.id+r.options,r.wrapper=document.createElement("div"),r.wrapper.className="lightbox-video-wrapper",r.wrapper.innerHTML=r.player.outerHTML,r.wrapper.outerHTML):d.querySelector(o).innerHTML}function r(e){return{next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling}}function o(o){e(),o.blur(),o.classList.add("current-lightbox-item"),(i=document.createElement("button")).className="lightbox-btn lightbox-btn-close",(p=document.createElement("div")).className="lightbox-content",p.innerHTML=t(o),(s=p.cloneNode(!1)).className="lightbox-wrapper",s.style.animation="createBox 0.30s, fadeIn 0.30s",s.innerHTML=p.outerHTML+i.outerHTML,(u=p.cloneNode(!1)).className="lightbox-container","gallery"===o.getAttribute("data-lightbox")&&(u.classList.add("lightbox-gallery"),Array.prototype.forEach.call([[a,"next"],[c,"previous"]],function(e){e[0]=i.cloneNode(!1),e[0].className="lightbox-btn lightbox-btn-"+e[1],e[0].disabled=null===r(o)[e[1]],s.innerHTML+=e[0].outerHTML})),u.innerHTML=s.outerHTML,d.appendChild(u),p=d.querySelector(".lightbox-content"),s=d.querySelector(".lightbox-wrapper"),u=d.querySelector(".lightbox-container"),i=d.querySelector(".lightbox-btn-close"),a=d.querySelector(".lightbox-btn-next"),c=d.querySelector(".lightbox-btn-previous")}function l(e){s.removeAttribute("style");var o,l=d.querySelector(".current-lightbox-item");null!==r(l)[e]&&null!==(o=r(l)[e].querySelector("[data-lightbox]"))&&(p.innerHTML=t(o),l.classList.remove("current-lightbox-item"),o.classList.add("current-lightbox-item"),Array.prototype.forEach.call([[a,"next"],[c,"previous"]],function(e){e[0].disabled=null===r(o)[e[1]]}))}function n(){m.style.animation="fadeOut 0.30s",d.querySelector(".lightbox-wrapper").style.animation="deleteBox 0.30s, fadeOut 0.30s",setTimeout(function(){e(),d.removeChild(u);var t=d.querySelector(".current-lightbox-item");null!==t&&(t.focus(),t.classList.remove("current-lightbox-item"))},200)}var i,a,c,u,s,p,m,d=document.body;Array.prototype.forEach.call(d.querySelectorAll("[data-lightbox]"),function(e){e.addEventListener("click",function(t){t.preventDefault(),o(e)})}),d.addEventListener("click",function(e){if(d.contains(u)){var t=e.target;t!==u&&t!==m&&t!==i||n(),t===a&&l("next"),t===c&&l("previous")}}),d.addEventListener("keyup",function(e){if(d.contains(u)){var t=e.keyCode;27===t&&n(),u.classList.contains("lightbox-gallery")&&(39===t?l("next"):37===t&&l("previous"))}})}();