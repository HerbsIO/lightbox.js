!function(){"use strict";function e(e){var t,i,l=e.getAttribute("href");return l.match(/\.(jpeg|jpg|gif|png)/)?(t=document.createElement("img"),t.className="lightbox-image",t.src=l,t.alt=e.getAttribute("data-image-alt"),t):l.match(/(youtube|vimeo)/)?(i=[],l.match("youtube")&&(i.id=l.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],i.url="www.youtube.com/embed/",i.options="?autoplay=1&rel=0"),l.match("vimeo")&&(i.id=l.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],i.url="player.vimeo.com/video/",i.options="?autoplay=1title=0&byline=0&portrait=0"),i.player=document.createElement("iframe"),i.player.setAttribute("allowfullscreen",""),i.player.className="lightbox-video-player",i.player.src="https://"+i.url+i.id+i.options,i.wrapper=document.createElement("div"),i.wrapper.className="lightbox-video-wrapper",i.wrapper.appendChild(i.player),i.wrapper):o.querySelector(l).children[0].cloneNode(!0)}function t(e){var t,i={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(t in i)null!==i[t]&&(i[t]=i[t].querySelector("[data-lightbox]"));return i}function i(i){if(i.blur(),d=i,i.classList.add("current-lightbox-item"),r=document.createElement("button"),r.className="lightbox-btn lightbox-btn-close",b=document.createElement("div"),b.className="screen-cover",b.style.animation=n.fadeIn,p=b.cloneNode(!1),p.className="lightbox-content",p.appendChild(e(i)),m=b.cloneNode(!1),m.className="lightbox-wrapper",m.style.animation=[n.scaleIn,n.fadeIn],m.appendChild(p),m.appendChild(r),u=b.cloneNode(!1),u.className="lightbox-container",u.appendChild(m),"gallery"===i.getAttribute("data-lightbox")){u.classList.add("lightbox-gallery");var l,a={next:"",previous:""};for(l in a)a.hasOwnProperty(l)&&(a[l]=r.cloneNode(!1),a[l].className="lightbox-btn lightbox-btn-"+l,a[l].disabled=null===t(i)[l],m.appendChild(a[l]))}o.style.overflow="hidden",o.appendChild(b),o.appendChild(u),s=o.querySelector(".lightbox-btn-next"),c=o.querySelector(".lightbox-btn-previous")}function l(i){m.removeAttribute("style");var l,a=t(d)[i],o={next:s,previous:c};if(null!==a){p.style.animation=n.fadeOut,setTimeout(function(){p.replaceChild(e(a),p.children[0]),p.style.animation=n.fadeIn},200),d.classList.remove("current-lightbox-item"),a.classList.add("current-lightbox-item"),d=a;for(l in o)o.hasOwnProperty(l)&&(o[l].disabled=null===t(a)[l])}}function a(){b.style.animation=n.fadeOut,m.style.animation=[n.scaleOut,n.fadeOut],setTimeout(function(){o.contains(b)&&(o.removeAttribute("style"),o.removeChild(b),o.removeChild(u),d.focus(),d.classList.remove("current-lightbox-item"))},200)}var n,o,r,s,c,d,u,p,m,b,h;h=(o=document.body).querySelectorAll("[data-lightbox]"),n={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"},Array.prototype.forEach.call(h,function(e){e.addEventListener("click",function(t){t.preventDefault(),i(e)})}),o.addEventListener("click",function(e){if(o.contains(u)){var t=e.target;t!==u&&t!==b&&t!==r||a(),t===s&&l("next"),t===c&&l("previous")}}),o.addEventListener("keyup",function(e){if(o.contains(u)){var t=e.keyCode;27===t&&a(),u.classList.contains("lightbox-gallery")&&(39===t?l("next"):37===t&&l("previous"))}})}();