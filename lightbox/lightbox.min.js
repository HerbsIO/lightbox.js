!function(){"use strict";function e(){r.querySelector(".screen-cover")?(r.removeChild(b),r.removeAttribute("style")):((b=document.createElement("div")).className="screen-cover",b.style.animation=o.fadeIn,r.style.overflow="hidden",r.appendChild(b))}function t(e){var t,l,i=e.getAttribute("href");return null!==i.match(/\.(jpeg|jpg|gif|png)$/)?(t=document.createElement("img"),t.src=i,t.className="lightbox-image",null!==e.getAttribute("data-image-alt")&&(t.alt=e.getAttribute("data-image-alt")),t):i.match(/(youtube|vimeo)/)?(l=[],i.match("youtube")&&(l.id=i.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],l.url="www.youtube.com/embed/",l.options="?autoplay=1&rel=0"),i.match("vimeo")&&(l.id=i.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],l.url="player.vimeo.com/video/",l.options="?autoplay=1title=0&byline=0&portrait=0"),l.player=document.createElement("iframe"),l.player.setAttribute("allowfullscreen",""),l.player.className="lightbox-video-player",l.player.src="https://"+l.url+l.id+l.options,l.wrapper=document.createElement("div"),l.wrapper.className="lightbox-video-wrapper",l.wrapper.appendChild(l.player),l.wrapper):r.querySelector(i).children[0].cloneNode(!0)}function l(e){var t,l={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(t in l)null!==l[t]&&(l[t]=l[t].querySelector("[data-lightbox]"));return l}function i(i){if(e(),i.blur(),i.classList.add("current-lightbox-item"),c=document.createElement("button"),c.className="lightbox-btn lightbox-btn-close",p=document.createElement("div"),p.className="lightbox-content",p.appendChild(t(i)),m=p.cloneNode(!1),m.className="lightbox-wrapper",m.style.animation=[o.scaleIn,o.fadeIn],m.appendChild(p),m.appendChild(c),d=p.cloneNode(!1),d.className="lightbox-container",d.appendChild(m),"gallery"===i.getAttribute("data-lightbox")){d.classList.add("lightbox-gallery");var n,a={next:"",previous:""};for(n in a)a.hasOwnProperty(n)&&(a[n]=c.cloneNode(!1),a[n].className="lightbox-btn lightbox-btn-"+n,a[n].disabled=null===l(i)[n],m.appendChild(a[n]))}r.appendChild(d),s=r.querySelector(".lightbox-btn-next"),u=r.querySelector(".lightbox-btn-previous")}function n(e){m.removeAttribute("style");var i,n=r.querySelector(".current-lightbox-item"),a=l(n)[e],c={next:s,previous:u};if(null!==a){p.style.animation=o.fadeOut,setTimeout(function(){p.replaceChild(t(a),p.children[0]),p.style.animation=o.fadeIn},200),n.classList.remove("current-lightbox-item"),a.classList.add("current-lightbox-item");for(i in c)c.hasOwnProperty(i)&&(c[i].disabled=null===l(a)[i])}}function a(){b.style.animation=o.fadeOut,m.style.animation=[o.scaleOut,o.fadeOut],setTimeout(function(){e(),r.removeChild(d);var t=r.querySelector(".current-lightbox-item");null!==t&&(t.focus(),t.classList.remove("current-lightbox-item"))},200)}var o,r,c,s,u,d,p,m,b,h;h=(r=document.body).querySelectorAll("[data-lightbox]"),o={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"},Array.prototype.forEach.call(h,function(e){e.addEventListener("click",function(t){t.preventDefault(),i(e)})}),r.addEventListener("click",function(e){if(r.contains(d)){var t=e.target;t!==d&&t!==b&&t!==c||a(),t===s&&n("next"),t===u&&n("previous")}}),r.addEventListener("keyup",function(e){if(r.contains(d)){var t=e.keyCode;27===t&&a(),d.classList.contains("lightbox-gallery")&&(39===t?n("next"):37===t&&n("previous"))}})}();