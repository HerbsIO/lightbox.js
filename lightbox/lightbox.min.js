!function(){"use strict";function e(){m.querySelector(".screen-cover")?(m.removeChild(d),m.removeAttribute("style")):((d=document.createElement("div")).className="screen-cover",d.style.animation="fadeIn 0.30s",m.style.overflow="hidden",m.appendChild(d))}function t(e){var t,r,l=e.getAttribute("href");return null!==l.match(/\.(jpeg|jpg|gif|png)$/)?(t=document.createElement("img"),t.src=l,null!==e.getAttribute("data-image-alt")&&(t.alt=e.getAttribute("data-image-alt")),t.outerHTML):l.match(/(youtube|vimeo)/)?(r=[],l.match("youtube")&&(r.id=l.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],r.url="https://www.youtube.com/embed/",r.options="?autoplay=1&rel=0"),l.match("vimeo")&&(r.id=l.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],r.url="https://player.vimeo.com/video/",r.options="?autoplay=1title=0&byline=0&portrait=0"),r.player=document.createElement("iframe"),r.player.setAttribute("allowfullscreen",""),r.player.className="lightbox-video-player",r.player.src=r.url+r.id+r.options,r.wrapper=document.createElement("div"),r.wrapper.className="lightbox-video-wrapper",r.wrapper.appendChild(r.player),r.wrapper.outerHTML):m.querySelector(l).innerHTML}function r(e){return{next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling}}function l(l){e(),l.blur(),l.classList.add("current-lightbox-item"),(i=document.createElement("button")).className="lightbox-btn lightbox-btn-close",(p=document.createElement("div")).className="lightbox-content",p.innerHTML=t(l),(s=p.cloneNode(!1)).className="lightbox-wrapper",s.style.animation="createBox 0.30s, fadeIn 0.30s",s.innerHTML=p.outerHTML+i.outerHTML,(u=p.cloneNode(!1)).className="lightbox-container","gallery"===l.getAttribute("data-lightbox")&&(u.classList.add("lightbox-gallery"),Array.prototype.forEach.call([[a,"next"],[c,"previous"]],function(e){e[0]=i.cloneNode(!1),e[0].className="lightbox-btn lightbox-btn-"+e[1],e[0].disabled=null===r(l)[e[1]],s.innerHTML+=e[0].outerHTML})),u.innerHTML=s.outerHTML,m.appendChild(u),p=m.querySelector(".lightbox-content"),s=m.querySelector(".lightbox-wrapper"),u=m.querySelector(".lightbox-container"),i=m.querySelector(".lightbox-btn-close"),a=m.querySelector(".lightbox-btn-next"),c=m.querySelector(".lightbox-btn-previous")}function o(e){s.removeAttribute("style");var l,o=m.querySelector(".current-lightbox-item");null!==r(o)[e]&&null!==(l=r(o)[e].querySelector("[data-lightbox]"))&&(p.innerHTML=t(l),o.classList.remove("current-lightbox-item"),l.classList.add("current-lightbox-item"),Array.prototype.forEach.call([[a,"next"],[c,"previous"]],function(e){e[0].disabled=null===r(l)[e[1]]}))}function n(){d.style.animation="fadeOut 0.30s",m.querySelector(".lightbox-wrapper").style.animation="deleteBox 0.30s, fadeOut 0.30s",setTimeout(function(){e(),m.removeChild(u);var t=m.querySelector(".current-lightbox-item");null!==t&&(t.focus(),t.classList.remove("current-lightbox-item"))},200)}var i,a,c,u,s,p,d,m=document.body;Array.prototype.forEach.call(m.querySelectorAll("[data-lightbox]"),function(e){e.addEventListener("click",function(t){t.preventDefault(),l(e)})}),m.addEventListener("click",function(e){if(m.contains(u)){var t=e.target;t!==u&&t!==d&&t!==i||n(),t===a&&o("next"),t===c&&o("previous")}}),m.addEventListener("keyup",function(e){if(m.contains(u)){var t=e.keyCode;27===t&&n(),u.classList.contains("lightbox-gallery")&&(39===t?o("next"):37===t&&o("previous"))}})}();