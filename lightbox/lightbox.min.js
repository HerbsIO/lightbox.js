!function(){"use strict";function e(e){var t,a,i=e.getAttribute("href");return i.match(/\.(jpeg|jpg|gif|png)/)?(t=document.createElement("img"),t.className="lightbox-image",t.src=i,t.alt=e.getAttribute("data-image-alt"),t):i.match(/(youtube|vimeo)/)?(a=[],i.match("youtube")&&(a.id=i.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0],a.url="www.youtube.com/embed/",a.options="?autoplay=1&rel=0"),i.match("vimeo")&&(a.id=i.split(/video\/|https:\/\/vimeo\.com\//)[1].split(/[?&]/)[0],a.url="player.vimeo.com/video/",a.options="?autoplay=1title=0&byline=0&portrait=0"),a.player=document.createElement("iframe"),a.player.setAttribute("allowfullscreen",""),a.player.className="lightbox-video-player",a.player.src="https://"+a.url+a.id+a.options,a.wrapper=document.createElement("div"),a.wrapper.className="lightbox-video-wrapper",a.wrapper.appendChild(a.player),a.wrapper):o.querySelector(i).children[0].cloneNode(!0)}function t(e){var t,a={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(t in a)null!==a[t]&&(a[t]=a[t].querySelector("[data-lightbox]"));return a}function a(a){if(a.blur(),c=a,a.classList.add("current-lightbox-item"),r=document.createElement("button"),r.className="lightbox-btn lightbox-btn-close",m=document.createElement("div"),m.className="screen-cover",m.style.animation=n.fadeIn,u=m.cloneNode(!1),u.className="lightbox-content",u.appendChild(e(a)),p=m.cloneNode(!1),p.className="lightbox-wrapper",p.style.animation=[n.scaleIn,n.fadeIn],p.appendChild(u),p.appendChild(r),d=m.cloneNode(!1),d.className="lightbox-container",d.appendChild(p),"gallery"===a.getAttribute("data-lightbox")){d.classList.add("lightbox-gallery");var i;s={next:"",previous:""};for(i in s)s.hasOwnProperty(i)&&(s[i]=r.cloneNode(!1),s[i].className="lightbox-btn lightbox-btn-"+i,s[i].disabled=null===t(a)[i],p.appendChild(s[i]))}o.style.overflow="hidden",o.appendChild(m),o.appendChild(d)}function i(a){p.removeAttribute("style");var i,l=t(c)[a];if(null!==l){u.style.animation=n.fadeOut,setTimeout(function(){u.replaceChild(e(l),u.children[0]),u.style.animation=n.fadeIn},200),c.classList.remove("current-lightbox-item"),l.classList.add("current-lightbox-item"),c=l;for(i in s)s.hasOwnProperty(i)&&(s[i].disabled=null===t(l)[i])}}function l(){m.style.animation=n.fadeOut,p.style.animation=[n.scaleOut,n.fadeOut],setTimeout(function(){o.contains(m)&&(o.removeAttribute("style"),o.removeChild(m),o.removeChild(d),c.focus(),c.classList.remove("current-lightbox-item"))},200)}var n,o,r,s,c,d,u,p,m,h;h=(o=document.body).querySelectorAll("[data-lightbox]"),n={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"},Array.prototype.forEach.call(h,function(e){e.addEventListener("click",function(t){t.preventDefault(),a(e)})}),o.addEventListener("click",function(e){if(o.contains(d)){var t=e.target;t!==d&&t!==m&&t!==r||l(),t===s.next&&i("next"),t===s.previous&&i("previous")}}),o.addEventListener("keyup",function(e){if(o.contains(d)){var t=e.keyCode;27===t&&l(),d.classList.contains("lightbox-gallery")&&(39===t&&i("next"),37===t&&i("previous"))}})}();